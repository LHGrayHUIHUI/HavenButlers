### 开发管理规范优化提示

#### 一、开发面板与修改记录管理

1. **开发面板结构**
    - 根目录创建 `dev-dashboard/` 作为总面板，记录全项目任务进度（含各微服务任务关联关系、依赖项、整体里程碑），采用表格形式更新（任务 ID、所属服务、负责人、状态、计划完成时间、实际进度）。
    - 同步创建 `dev-logs/` 作为修改记录根目录，按 **“YYYY-MM-DD”** 格式创建每日子文件夹（如 `2024-06-01/`），子文件夹内按服务模块分类（如 `account-service/`、`nlp-service/`），记录当日代码修改、配置调整、问题修复等（含修改人、修改内容摘要、关联任务 ID、测试结果）。
2. **更新规则**
    - 每次开发 / 修改完成后，需同步更新对应服务的子面板（如 `account-service/dev-panel.md`）及 `dev-dashboard/` 总面板，确保进度一致性。
    - 若涉及跨服务变更（如通信协议调整、依赖接口修改），需在总面板标注影响范围，并同步通知关联服务开发人员。
    - 发生重大更新（如核心功能上线、架构调整、安全协议升级）时，必须更新根目录 `README.md`，新增 “更新日志” 章节记录变更点、生效时间及影响说明。

#### 二、微服务文档规范（每个服务独立目录）

1. 必备文档

   每个微服务目录下需包含：

    - `dev-panel.md`：记录本服务任务进度（独立任务拆分、当前开发状态、阻塞点）。

    - README.md作为服务对外说明核心文档，

      强制包含以下信息：

        - 服务定位：所属架构层级（如核心业务层 / 多语言适配层）、核心职责（对应架构文档中定义）。
        - 技术栈：主开发语言、核心框架（如 Java 服务需注明 Spring Cloud 版本，Go 服务注明 Gin/Echo 等）。
        - 部署信息：
            - Docker 镜像名称及版本规则（如 `smart-home/account-service:v1.0.0`）。
            - 内部通信端口（docker 网络内端口，如 `8080`）、环境变量依赖（如 `NACOS_ADDR`、`STORAGE_SERVICE_URL`）。
            - 独立部署测试方式（含启动命令、基础依赖服务清单）。
        - 接口信息：
            - 对外暴露 API（仅架构服务允许直接暴露，其他服务需注明 “通过网关路由”）：网关路由路径（如 `/api/v1/account/*`）、接口文档地址（如 `http://gateway-ip:8080/swagger/account`）。
            - 内部服务调用接口：通信协议（gRPC/HTTP）、Protobuf/JSON 模型定义文件路径。
        - 依赖关系：直接依赖的服务（如 `storage-service`、`nacos`）、依赖服务的必选版本。

#### 三、数据访问规范

- 所有服务的数据库操作（MySQL/MongoDB）、缓存（Redis）、文件存储（MinIO）、向量数据库访问，**必须通过 `storage-service` 提供的标准化接口**实现，禁止直接连接底层存储资源。
- `storage-service` 的 `README.md` 需额外注明：支持的存储类型、各类型访问接口规范（含认证方式、权限校验逻辑）、数据加密策略（对应架构文档中数据层防护要求）。

#### 四、部署与通信规范

1. **网络隔离**
    - 所有服务通过 Docker 容器部署，默认加入项目专用桥接网络（如 `smart-home-network`），仅 `gateway-service`（架构服务）允许映射宿主机端口对外暴露（如宿主机 `9783` 映射容器 `8080`）。
    - 其他服务仅通过容器名 / 内部 IP 在 Docker 网络内通信（如 `account-service:8080`），禁止直接映射宿主机端口（测试环境需临时映射时，需在服务 `README.md` 注明测试端口及限制条件）。
2. **集成测试支持**
    - 各服务 `README.md` 需明确：独立测试时的最小依赖环境（可通过 Docker Compose 快速拉起）、测试用例执行方式、健康检查接口（如 `/actuator/health`）。
    - 网关服务 `README.md` 需汇总所有服务的路由配置、鉴权规则，方便集成测试时配置请求转发。
3. **测试和部署**
    * 除了基本的单元测试外，每个微服务的测试必须在docker服务中进行。

通过以上规范，确保开发过程可追溯、服务接口可清晰对接、部署流程标准化，适配微服务架构的独立开发、集成测试及安全部署需求。