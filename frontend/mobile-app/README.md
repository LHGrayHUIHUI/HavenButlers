# HavenButler 移动APP

## 项目定位
- **架构层级**：前端层
- **核心职责**：提供全功能原生移动应用体验
- **业务范围**：完整智能家居管理、离线控制、生物识别、本地化服务

## 技术选型（计划）

### 方案一：React Native
- **优势**：跨平台、生态成熟、热更新
- **UI框架**：React Native Elements / NativeBase
- **状态管理**：Redux / MobX
- **导航**：React Navigation

### 方案二：Flutter
- **优势**：性能优异、UI一致性、Material Design 3原生支持
- **语言**：Dart
- **状态管理**：Provider / Riverpod
- **数据库**：SQLite / Hive

### 方案三：Ionic + Vue
- **优势**：复用Vue3代码、开发效率高
- **框架**：Ionic Vue + Capacitor
- **兼容性**：良好的Web技术支持

## 支持平台
- iOS 13+
- Android 7.0+ (API 24+)
- 鸿蒙OS（未来支持）

## 核心功能规划

### 1. 完整设备管理
- 设备发现和配网
- 全功能控制面板
- 设备分组和标签
- OTA升级管理

### 2. 高级场景编辑
- 可视化场景编辑器
- 地理围栏触发
- 时间计划任务
- 联动规则链

### 3. AI智能助手
- 语音控制
- 自然语言交互
- 智能建议
- 离线语音识别

### 4. 安全与隐私
- 生物识别（指纹/人脸）
- 端到端加密
- 本地数据备份
- 隐私模式

### 5. 离线功能
- 本地网络控制
- 离线数据同步
- 缓存管理
- 蓝牙直连

### 6. 多媒体功能
- 监控视频查看
- 音频对讲
- 图片相册
- 消息推送

## 原生功能集成
- **推送通知**：APNs (iOS) / FCM (Android)
- **地理位置**：GPS + 基站定位
- **蓝牙**：BLE设备直连
- **NFC**：门禁卡模拟
- **相机**：扫码添加设备
- **传感器**：加速度计、陀螺仪

## 与Web端差异
- 支持原生硬件调用
- 更好的离线体验
- 生物识别支持
- 推送通知能力
- 后台保活和任务

## 性能目标
- 启动时间：< 2秒
- 内存占用：< 150MB
- 帧率：60fps
- 电池优化：后台耗电 < 5%

## 开发计划
- 预计启动时间：2025年Q3
- 优先级：三期项目
- MVP版本：核心控制功能
- 完整版本：全功能集成

## 发布渠道
- Apple App Store
- Google Play Store
- 华为应用市场
- 小米应用商店
- 腾讯应用宝

## 注意事项
- 所有API调用通过gateway-service (9783端口)
- 复用后端微服务架构
- 遵循各平台应用商店规范
- 支持多语言和本地化

## 安全要求
- 代码混淆
- 证书固定 (Certificate Pinning)
- 反调试保护
- 敏感数据加密存储